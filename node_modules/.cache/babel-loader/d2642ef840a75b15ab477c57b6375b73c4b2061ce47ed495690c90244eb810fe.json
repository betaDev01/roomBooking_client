{"ast":null,"code":"import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index';\nimport { hotelListFailure, hotelListResponse } from \"../../action\";\nimport { API_ROUTES } from \"../../utils\";\nfunction* commonRequest(action) {\n  try {\n    var _action$payload, _action$payload2;\n    const response = yield apiCall({\n      apiPath: API_ROUTES.hotelList.path,\n      method: API_ROUTES.hotelList.method,\n      params: {\n        'filter[keyword]': ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.searchKeyword) || '',\n        'page[size]': 10,\n        'page[number]': ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.pageNumber) || 1\n      }\n    });\n    if (response.status === 401) {\n      yield put(hotelListFailure(response.data.error));\n    } else {\n      var _response$data, _response$data2;\n      const res = (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.data && ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data.length) > 0 ? response.data.data.map(it => {\n        return {};\n      }) : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error) {\n    yield put(hotelListFailure(error));\n  }\n}\nexport function* commonSagaRequests() {\n  yield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n}","map":{"version":3,"names":["put","takeLatest","actionTypes","hotelListFailure","hotelListResponse","API_ROUTES","commonRequest","action","_action$payload","_action$payload2","response","apiCall","apiPath","hotelList","path","method","params","payload","searchKeyword","pageNumber","status","data","error","_response$data","_response$data2","res","length","map","it","commonSagaRequests","HOTEL_LIST_REQUEST"],"sources":["/home/shivvv/Project/workspace/roomBooking/roomBooking_client/src/saga/common/index.ts"],"sourcesContent":["import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index'\nimport { hotelListFailure, hotelListResponse } from \"../../action\";\nimport { IHotelListRequest, IHotelListResponse, ISagaPayload } from \"../../utils/types\";\nimport { API_ROUTES } from \"../../utils\";\n\nfunction* commonRequest(action: ISagaPayload<IHotelListRequest>):any{\n\ttry {\n\t\tconst response = yield apiCall({\n\t\t\tapiPath: API_ROUTES.hotelList.path,\n\t\t\tmethod: API_ROUTES.hotelList.method,\n\t\t\tparams: {\n\t\t\t\t'filter[keyword]': action.payload?.searchKeyword || '',\n\t\t\t\t'page[size]': 10,\n\t\t\t\t'page[number]': action.payload?.pageNumber || 1,\n\t\t\t}\n\t\t});\n\t\tif (response.status === 401) {\n\t\t\tyield put(hotelListFailure(response.data.error));\n\t\t} else {\n\t\t\tconst res: IHotelListResponse[] = response.data?.data && response.data?.data.length > 0 ?\n\t\t\t\tresponse.data.data.map((it: IHotelListResponse) => {\n\t\t\t\t\treturn {}\n\t\t\t\t}) : [];\n\t\t\tyield put(hotelListResponse(res));\n\t\t}\n\t} catch (error: any) {\n\t\tyield put(hotelListFailure(error));\n\t}\n}\n\nexport function* commonSagaRequests() {\n\tyield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n}"],"mappings":"AAAA,SAASA,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AACpD,OAAO,KAAKC,WAAW,MAAM,iCAAiC;AAC9D,SAASC,gBAAgB,EAAEC,iBAAiB,QAAQ,cAAc;AAElE,SAASC,UAAU,QAAQ,aAAa;AAExC,UAAUC,aAAaA,CAACC,MAAuC,EAAK;EACnE,IAAI;IAAA,IAAAC,eAAA,EAAAC,gBAAA;IACH,MAAMC,QAAQ,GAAG,MAAMC,OAAO,CAAC;MAC9BC,OAAO,EAAEP,UAAU,CAACQ,SAAS,CAACC,IAAI;MAClCC,MAAM,EAAEV,UAAU,CAACQ,SAAS,CAACE,MAAM;MACnCC,MAAM,EAAE;QACP,iBAAiB,EAAE,EAAAR,eAAA,GAAAD,MAAM,CAACU,OAAO,cAAAT,eAAA,uBAAdA,eAAA,CAAgBU,aAAa,KAAI,EAAE;QACtD,YAAY,EAAE,EAAE;QAChB,cAAc,EAAE,EAAAT,gBAAA,GAAAF,MAAM,CAACU,OAAO,cAAAR,gBAAA,uBAAdA,gBAAA,CAAgBU,UAAU,KAAI;MAC/C;IACD,CAAC,CAAC;IACF,IAAIT,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;MAC5B,MAAMpB,GAAG,CAACG,gBAAgB,CAACO,QAAQ,CAACW,IAAI,CAACC,KAAK,CAAC,CAAC;IACjD,CAAC,MAAM;MAAA,IAAAC,cAAA,EAAAC,eAAA;MACN,MAAMC,GAAyB,GAAG,CAAAF,cAAA,GAAAb,QAAQ,CAACW,IAAI,cAAAE,cAAA,eAAbA,cAAA,CAAeF,IAAI,IAAI,EAAAG,eAAA,GAAAd,QAAQ,CAACW,IAAI,cAAAG,eAAA,uBAAbA,eAAA,CAAeH,IAAI,CAACK,MAAM,IAAG,CAAC,GACtFhB,QAAQ,CAACW,IAAI,CAACA,IAAI,CAACM,GAAG,CAAEC,EAAsB,IAAK;QAClD,OAAO,CAAC,CAAC;MACV,CAAC,CAAC,GAAG,EAAE;MACR,MAAM5B,GAAG,CAACI,iBAAiB,CAACqB,GAAG,CAAC,CAAC;IAClC;EACD,CAAC,CAAC,OAAOH,KAAU,EAAE;IACpB,MAAMtB,GAAG,CAACG,gBAAgB,CAACmB,KAAK,CAAC,CAAC;EACnC;AACD;AAEA,OAAO,UAAUO,kBAAkBA,CAAA,EAAG;EACrC,MAAM5B,UAAU,CAACC,WAAW,CAAC4B,kBAAkB,EAAExB,aAAa,CAAC;AAChE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}