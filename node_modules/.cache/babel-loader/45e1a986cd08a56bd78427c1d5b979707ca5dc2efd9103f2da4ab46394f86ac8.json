{"ast":null,"code":"import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index';\nimport { getBookingDetailsFailure, hotelListFailure, hotelListResponse } from \"../../action\";\nimport { API_ROUTES } from \"../../utils\";\nimport { apiCall } from \"../../utils/helper\";\nfunction* commonRequest(action) {\n  try {\n    var _action$payload;\n    const response = yield apiCall({\n      apiPath: API_ROUTES.hotelList.path,\n      method: API_ROUTES.hotelList.method,\n      params: action.payload ? {\n        'location': ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.location) || ''\n      } : null\n    });\n    if (response.status === 401) {\n      yield put(hotelListFailure(response.data.error));\n    } else {\n      var _response$data, _response$data2;\n      const res = (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.data && ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data.length) > 0 ? response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error) {\n    yield put(hotelListFailure(error));\n  }\n}\nfunction* getBookingDetailsRequest(action) {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method\n    });\n    if (response.status === 401) {\n      yield put(getBookingDetailsFailure(response.data.error));\n    } else {\n      var _response$data3, _response$data4;\n      const res = (_response$data3 = response.data) !== null && _response$data3 !== void 0 && _response$data3.data && ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data.length) > 0 ? response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error) {\n    yield put(getBookingDetailsFailure(error));\n  }\n}\nexport function* commonSagaRequests() {\n  yield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n  yield takeLatest(actionTypes.GET_BOOKING_DETAILS_REQUEST, getBookingDetailsRequest);\n}","map":{"version":3,"names":["put","takeLatest","actionTypes","getBookingDetailsFailure","hotelListFailure","hotelListResponse","API_ROUTES","apiCall","commonRequest","action","_action$payload","response","apiPath","hotelList","path","method","params","payload","location","status","data","error","_response$data","_response$data2","res","length","getBookingDetailsRequest","getBookingDetais","_response$data3","_response$data4","commonSagaRequests","HOTEL_LIST_REQUEST","GET_BOOKING_DETAILS_REQUEST"],"sources":["/home/shivvv/Project/workspace/roomBooking/roomBooking_client/src/saga/common/index.ts"],"sourcesContent":["import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index'\nimport { getBookingDetailsFailure, hotelListFailure, hotelListResponse } from \"../../action\";\nimport { IHotelListRequest, IHotelListResponse, ISagaPayload } from \"../../utils/types\";\nimport { API_ROUTES } from \"../../utils\";\nimport { apiCall } from \"../../utils/helper\";\n\nfunction* commonRequest(action: ISagaPayload<IHotelListRequest>): any {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.hotelList.path,\n      method: API_ROUTES.hotelList.method,\n      params: action.payload ? {\n        'location': action.payload?.location || '',\n      }: null\n    });\n    if (response.status === 401) {\n      yield put(hotelListFailure(response.data.error));\n    } else {\n      const res: IHotelListResponse[] = response.data?.data && response.data?.data.length > 0 ?\n        response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error: any) {\n    yield put(hotelListFailure(error));\n  }\n}\n\nfunction* getBookingDetailsRequest(action: ISagaPayload<IHotelListRequest>): any {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method\n    });\n    if (response.status === 401) {\n      yield put(getBookingDetailsFailure(response.data.error));\n    } else {\n      const res: IHotelListResponse[] = response.data?.data && response.data?.data.length > 0 ?\n        response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error: any) {\n    yield put(getBookingDetailsFailure(error));\n  }\n}\n\nexport function* commonSagaRequests() {\n  yield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n  yield takeLatest(actionTypes.GET_BOOKING_DETAILS_REQUEST, getBookingDetailsRequest )\n}"],"mappings":"AAAA,SAASA,GAAG,EAAEC,UAAU,QAAQ,oBAAoB;AACpD,OAAO,KAAKC,WAAW,MAAM,iCAAiC;AAC9D,SAASC,wBAAwB,EAAEC,gBAAgB,EAAEC,iBAAiB,QAAQ,cAAc;AAE5F,SAASC,UAAU,QAAQ,aAAa;AACxC,SAASC,OAAO,QAAQ,oBAAoB;AAE5C,UAAUC,aAAaA,CAACC,MAAuC,EAAO;EACpE,IAAI;IAAA,IAAAC,eAAA;IACF,MAAMC,QAAQ,GAAG,MAAMJ,OAAO,CAAC;MAC7BK,OAAO,EAAEN,UAAU,CAACO,SAAS,CAACC,IAAI;MAClCC,MAAM,EAAET,UAAU,CAACO,SAAS,CAACE,MAAM;MACnCC,MAAM,EAAEP,MAAM,CAACQ,OAAO,GAAG;QACvB,UAAU,EAAE,EAAAP,eAAA,GAAAD,MAAM,CAACQ,OAAO,cAAAP,eAAA,uBAAdA,eAAA,CAAgBQ,QAAQ,KAAI;MAC1C,CAAC,GAAE;IACL,CAAC,CAAC;IACF,IAAIP,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;MAC3B,MAAMnB,GAAG,CAACI,gBAAgB,CAACO,QAAQ,CAACS,IAAI,CAACC,KAAK,CAAC,CAAC;IAClD,CAAC,MAAM;MAAA,IAAAC,cAAA,EAAAC,eAAA;MACL,MAAMC,GAAyB,GAAG,CAAAF,cAAA,GAAAX,QAAQ,CAACS,IAAI,cAAAE,cAAA,eAAbA,cAAA,CAAeF,IAAI,IAAI,EAAAG,eAAA,GAAAZ,QAAQ,CAACS,IAAI,cAAAG,eAAA,uBAAbA,eAAA,CAAeH,IAAI,CAACK,MAAM,IAAG,CAAC,GACrFd,QAAQ,CAACS,IAAI,CAACA,IAAI,GAAG,EAAE;MACzB,MAAMpB,GAAG,CAACK,iBAAiB,CAACmB,GAAG,CAAC,CAAC;IACnC;EACF,CAAC,CAAC,OAAOH,KAAU,EAAE;IACnB,MAAMrB,GAAG,CAACI,gBAAgB,CAACiB,KAAK,CAAC,CAAC;EACpC;AACF;AAEA,UAAUK,wBAAwBA,CAACjB,MAAuC,EAAO;EAC/E,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,OAAO,CAAC;MAC7BK,OAAO,EAAEN,UAAU,CAACqB,gBAAgB,CAACb,IAAI;MACzCC,MAAM,EAAET,UAAU,CAACqB,gBAAgB,CAACZ;IACtC,CAAC,CAAC;IACF,IAAIJ,QAAQ,CAACQ,MAAM,KAAK,GAAG,EAAE;MAC3B,MAAMnB,GAAG,CAACG,wBAAwB,CAACQ,QAAQ,CAACS,IAAI,CAACC,KAAK,CAAC,CAAC;IAC1D,CAAC,MAAM;MAAA,IAAAO,eAAA,EAAAC,eAAA;MACL,MAAML,GAAyB,GAAG,CAAAI,eAAA,GAAAjB,QAAQ,CAACS,IAAI,cAAAQ,eAAA,eAAbA,eAAA,CAAeR,IAAI,IAAI,EAAAS,eAAA,GAAAlB,QAAQ,CAACS,IAAI,cAAAS,eAAA,uBAAbA,eAAA,CAAeT,IAAI,CAACK,MAAM,IAAG,CAAC,GACrFd,QAAQ,CAACS,IAAI,CAACA,IAAI,GAAG,EAAE;MACzB,MAAMpB,GAAG,CAACK,iBAAiB,CAACmB,GAAG,CAAC,CAAC;IACnC;EACF,CAAC,CAAC,OAAOH,KAAU,EAAE;IACnB,MAAMrB,GAAG,CAACG,wBAAwB,CAACkB,KAAK,CAAC,CAAC;EAC5C;AACF;AAEA,OAAO,UAAUS,kBAAkBA,CAAA,EAAG;EACpC,MAAM7B,UAAU,CAACC,WAAW,CAAC6B,kBAAkB,EAAEvB,aAAa,CAAC;EAC/D,MAAMP,UAAU,CAACC,WAAW,CAAC8B,2BAA2B,EAAEN,wBAAyB,CAAC;AACtF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}