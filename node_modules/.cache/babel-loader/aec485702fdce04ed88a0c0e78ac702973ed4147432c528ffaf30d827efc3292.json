{"ast":null,"code":"import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index';\nimport { deleteBookingFailure, getBookingDetailsFailure, getBookingDetailsResponse, hotelListFailure, hotelListResponse } from \"../../action\";\nimport { API_ROUTES } from \"../../utils\";\nimport { apiCall } from \"../../utils/helper\";\nfunction* commonRequest(action) {\n  try {\n    var _action$payload;\n    const response = yield apiCall({\n      apiPath: API_ROUTES.hotelList.path,\n      method: API_ROUTES.hotelList.method,\n      params: action.payload ? {\n        'location': ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.location) || ''\n      } : null\n    });\n    if (response.status === 401) {\n      yield put(hotelListFailure(response.data.error));\n    } else {\n      var _response$data, _response$data2;\n      const res = (_response$data = response.data) !== null && _response$data !== void 0 && _response$data.data && ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.data.length) > 0 ? response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error) {\n    yield put(hotelListFailure(error));\n  }\n}\nfunction* getBookingDetailsRequest() {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method\n    });\n    if (response.status === 401) {\n      yield put(getBookingDetailsFailure(response.data.error));\n    } else {\n      var _response$data3, _response$data4;\n      const res = (_response$data3 = response.data) !== null && _response$data3 !== void 0 && _response$data3.data && ((_response$data4 = response.data) === null || _response$data4 === void 0 ? void 0 : _response$data4.data.length) > 0 ? response.data.data : [];\n      yield put(getBookingDetailsResponse(res));\n    }\n  } catch (error) {\n    yield put(getBookingDetailsFailure(error));\n  }\n}\nfunction* deleteBookingRequest(action) {\n  try {\n    var _action$payload2;\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method,\n      params: {\n        'bookingId': (_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.bookingId\n      }\n    });\n    if (response.status === 401) {\n      yield put(deleteBookingFailure(response.data.error));\n    } else {\n      var _response$data5, _response$data6;\n      const res = (_response$data5 = response.data) !== null && _response$data5 !== void 0 && _response$data5.data && ((_response$data6 = response.data) === null || _response$data6 === void 0 ? void 0 : _response$data6.data.length) > 0 ? response.data.data : [];\n      yield put(deleteBookingResponse(res));\n    }\n  } catch (error) {\n    yield put(deleteBookingFailure(error));\n  }\n}\nexport function* commonSagaRequests() {\n  yield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n  yield takeLatest(actionTypes.GET_BOOKING_DETAILS_REQUEST, getBookingDetailsRequest);\n  yield takeLatest(actionTypes.MODIFY_BOOKING_REQUEST, getBookingDetailsRequest);\n  yield takeLatest(actionTypes.DELETE_BOOKING_REQUEST, deleteBookingRequest);\n}","map":{"version":3,"names":["put","takeLatest","actionTypes","deleteBookingFailure","getBookingDetailsFailure","getBookingDetailsResponse","hotelListFailure","hotelListResponse","API_ROUTES","apiCall","commonRequest","action","_action$payload","response","apiPath","hotelList","path","method","params","payload","location","status","data","error","_response$data","_response$data2","res","length","getBookingDetailsRequest","getBookingDetais","_response$data3","_response$data4","deleteBookingRequest","_action$payload2","bookingId","_response$data5","_response$data6","deleteBookingResponse","commonSagaRequests","HOTEL_LIST_REQUEST","GET_BOOKING_DETAILS_REQUEST","MODIFY_BOOKING_REQUEST","DELETE_BOOKING_REQUEST"],"sources":["/home/shivvv/Project/workspace/roomBooking/roomBooking_client/src/saga/common/index.ts"],"sourcesContent":["import { put, takeLatest } from \"redux-saga/effects\";\nimport * as actionTypes from '../../action/action-types/index'\nimport { deleteBookingFailure, getBookingDetailsFailure, getBookingDetailsResponse, hotelListFailure, hotelListResponse } from \"../../action\";\nimport { IBookingDetails, IDeleteBookingRequest, IHotelListRequest, IHotelListResponse, ISagaPayload } from \"../../utils/types\";\nimport { API_ROUTES } from \"../../utils\";\nimport { apiCall } from \"../../utils/helper\";\n\nfunction* commonRequest(action: ISagaPayload<IHotelListRequest>): any {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.hotelList.path,\n      method: API_ROUTES.hotelList.method,\n      params: action.payload ? {\n        'location': action.payload?.location || '',\n      }: null\n    });\n    if (response.status === 401) {\n      yield put(hotelListFailure(response.data.error));\n    } else {\n      const res: IHotelListResponse[] = response.data?.data && response.data?.data.length > 0 ?\n        response.data.data : [];\n      yield put(hotelListResponse(res));\n    }\n  } catch (error: any) {\n    yield put(hotelListFailure(error));\n  }\n}\n\nfunction* getBookingDetailsRequest(): any {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method\n    });\n    if (response.status === 401) {\n      yield put(getBookingDetailsFailure(response.data.error));\n    } else {\n      const res: IBookingDetails[] = response.data?.data && response.data?.data.length > 0 ?\n        response.data.data : [];\n      yield put(getBookingDetailsResponse(res));\n    }\n  } catch (error: any) {\n    yield put(getBookingDetailsFailure(error));\n  }\n}\n\nfunction* deleteBookingRequest(action: ISagaPayload<IDeleteBookingRequest>): any {\n  try {\n    const response = yield apiCall({\n      apiPath: API_ROUTES.getBookingDetais.path,\n      method: API_ROUTES.getBookingDetais.method,\n      params:{\n        'bookingId': action.payload?.bookingId\n      }\n    });\n    if (response.status === 401) {\n      yield put(deleteBookingFailure(response.data.error));\n    } else {\n      const res: IBookingDetails[] = response.data?.data && response.data?.data.length > 0 ?\n        response.data.data : [];\n      yield put(deleteBookingResponse(res));\n    }\n  } catch (error: any) {\n    yield put(deleteBookingFailure(error));\n  }\n}\n\nexport function* commonSagaRequests() {\n  yield takeLatest(actionTypes.HOTEL_LIST_REQUEST, commonRequest);\n  yield takeLatest(actionTypes.GET_BOOKING_DETAILS_REQUEST, getBookingDetailsRequest );\n  yield takeLatest(actionTypes.MODIFY_BOOKING_REQUEST, getBookingDetailsRequest );\n  yield takeLatest(actionTypes.DELETE_BOOKING_REQUEST, deleteBookingRequest );\n\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}